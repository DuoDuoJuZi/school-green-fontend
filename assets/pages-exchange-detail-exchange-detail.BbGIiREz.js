import{r as a,B as t,c as s,w as e,k as l,i as c,o as u,a as r,b as n,t as d,v as o,d as i,e as _}from"./index-CuaaJPDA.js";import{a as f}from"./uni-app.es.l4NMnEKD.js";import{r as v}from"./request.CEomxEkn.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const m=p({__name:"exchange-detail",setup(p){const m=a(null);f((a=>{const t=a.id;t&&g(t)}));const g=async a=>{try{const t=await v({url:`/exchange/detail?id=${a}`});t.data&&(m.value=t.data)}catch(s){t({title:"加载失败",icon:"none"})}},h=a=>a?a.startsWith("http")?a:"https://kkbaemygbrzk.ap-northeast-1.clawcloudrun.com"+a:"/static/avatar.png",b=()=>{o({title:"绿色连接",content:"请添加时备注：校园绿动置换",showCancel:!1})};return(a,t)=>{const o=i,f=_,v=c;return m.value?(u(),s(v,{key:0,class:"page"},{default:e((()=>{return[r(o,{src:(a=m.value.img,a?a.startsWith("http")?a:"https://kkbaemygbrzk.ap-northeast-1.clawcloudrun.com"+a:""),class:"detail-img",mode:"aspectFill"},null,8,["src"]),r(v,{class:"container"},{default:e((()=>[r(v,{class:"header-sec"},{default:e((()=>[r(v,{class:"price-box"},{default:e((()=>[r(f,{class:"label"},{default:e((()=>[n("交易方式：")])),_:1}),r(f,{class:"value"},{default:e((()=>[n(d("goods"===m.value.exchangeMode?"换："+m.value.targetItem:m.value.price+" 积分"),1)])),_:1})])),_:1}),r(v,{class:"title"},{default:e((()=>[n(d(m.value.title),1)])),_:1}),r(v,{class:"tags"},{default:e((()=>[r(f,{class:"tag"},{default:e((()=>[n("循环利用")])),_:1}),r(f,{class:"tag"},{default:e((()=>[n("校园面交")])),_:1}),r(f,{class:"tag"},{default:e((()=>[n(d(m.value.category||"闲置"),1)])),_:1})])),_:1})])),_:1}),r(v,{class:"seller-sec"},{default:e((()=>{var a;return[r(o,{src:h(null==(a=m.value.user)?void 0:a.avatar),class:"avatar",mode:"aspectFill"},null,8,["src"]),r(v,{class:"info"},{default:e((()=>[r(v,{class:"name"},{default:e((()=>{var a;return[n(d((null==(a=m.value.user)?void 0:a.username)||"匿名同学"),1)]})),_:1}),r(v,{class:"credit"},{default:e((()=>{return[n("加入时间："+d((a=m.value.createdAt,a?a.substring(0,10):"未知")),1)];var a})),_:1})])),_:1}),r(v,{class:"contact-btn",onClick:b},{default:e((()=>[n("联系TA")])),_:1})]})),_:1}),r(v,{class:"desc-sec"},{default:e((()=>[r(v,{class:"sec-title"},{default:e((()=>[n("物品描述")])),_:1}),r(v,{class:"content"},{default:e((()=>[n(d(m.value.desc),1)])),_:1})])),_:1})])),_:1}),r(v,{class:"bottom-bar"},{default:e((()=>[r(v,{class:"action"},{default:e((()=>[n("收藏")])),_:1}),r(v,{class:"action"},{default:e((()=>[n("分享")])),_:1}),r(v,{class:"main-btn",onClick:b},{default:e((()=>[n("我想要置换")])),_:1})])),_:1})];var a})),_:1})):l("",!0)}}},[["__scopeId","data-v-6a377a22"]]);export{m as default};
