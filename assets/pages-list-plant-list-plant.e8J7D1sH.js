import{r as a,g as s,c as t,w as e,i as l,o as r,a as c,b as d,h as i,j as u,F as n,e as m,t as o,m as p,d as _}from"./index-CuaaJPDA.js";import{r as f}from"./request.CEomxEkn.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=g({__name:"list-plant",setup(g){const h=a([]);s((()=>{(async()=>{try{const a=await f({url:"/plant/list",hideErrorToast:!0});a.data&&(h.value=a.data.map((a=>({id:a.id,name:a.name,desc:a.desc,img:a.img&&!a.img.startsWith("http")?"https://kkbaemygbrzk.ap-northeast-1.clawcloudrun.com"+a.img:a.img,tag:a.category?a.category.split("/")[0].trim():"校园精选"}))))}catch(a){}})()}));return(a,s)=>{const f=m,g=l,k=_;return r(),t(g,{class:"page"},{default:e((()=>[c(g,{class:"header"},{default:e((()=>[c(f,{class:"title"},{default:e((()=>[d("校园植物鉴赏")])),_:1}),c(f,{class:"subtitle"},{default:e((()=>[d("发现身边的自然之美")])),_:1})])),_:1}),c(g,{class:"plant-list"},{default:e((()=>[(r(!0),i(n,null,u(h.value,((a,s)=>(r(),t(g,{class:"plant-card",key:s,onClick:s=>{return t=a.id,void p({url:`/pages/detail-plant/detail-plant?id=${t}`});var t}},{default:e((()=>[c(g,{class:"img-wrapper"},{default:e((()=>[c(k,{src:a.img,class:"item-img",mode:"aspectFill"},null,8,["src"]),c(g,{class:"tag-badge"},{default:e((()=>[d(o(a.tag),1)])),_:2},1024)])),_:2},1024),c(g,{class:"card-content"},{default:e((()=>[c(g,{class:"card-header"},{default:e((()=>[c(f,{class:"item-name"},{default:e((()=>[d(o(a.name),1)])),_:2},1024),c(g,{class:"arrow-icon"},{default:e((()=>[d("→")])),_:1})])),_:2},1024),c(f,{class:"item-desc"},{default:e((()=>[d(o(a.desc),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-ae0f51f4"]]);export{h as default};
