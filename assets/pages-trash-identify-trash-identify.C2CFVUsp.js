import{r as a,c as e,w as s,i as l,o as t,a as c,n as u,b as i,k as n,t as r,D as o,l as d,E as f,B as p,d as _,e as m}from"./index-CuaaJPDA.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=v({__name:"trash-identify",setup(v){const y=a(""),g=a(!1),h=a(null),k=()=>{g.value||o({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:a=>{y.value=a.tempFilePaths[0],b()}})},b=()=>{g.value=!0,h.value=null;const a=d("token");f({url:"https://kkbaemygbrzk.ap-northeast-1.clawcloudrun.com/v1/tools/identify",filePath:y.value,name:"file",header:{Authorization:a?`Bearer ${a}`:""},success:a=>{g.value=!1;try{const e=JSON.parse(a.data);200===e.code?h.value={name:e.data.name,category:e.data.category,icon:x(e.data.type),class:e.data.type,guide:e.data.tips}:p({title:e.msg||"è¯†åˆ«å¤±è´¥",icon:"none"})}catch(e){p({title:"è§£æå¤±è´¥",icon:"none"})}},fail:()=>{g.value=!1,p({title:"ä¸Šä¼ å¤±è´¥",icon:"none"})}})},x=a=>({recycle:"â™»ï¸",kitchen:"ğŸ²",other:"ğŸ—‘ï¸",harmful:"â˜£ï¸"}[a]||"â“"),w=()=>{y.value="",h.value=null};return(a,o)=>{const d=_,f=l,p=m;return t(),e(f,{class:"page"},{default:s((()=>[c(f,{class:"scan-area",onClick:k},{default:s((()=>[c(f,{class:u(["scan-bg",{"has-img":y.value}])},{default:s((()=>[y.value?(t(),e(d,{key:0,src:y.value,mode:"aspectFit",class:"preview-img"},null,8,["src"])):(t(),e(f,{key:1,class:"placeholder"},{default:s((()=>[c(f,{class:"camera-icon"},{default:s((()=>[i("ğŸ“·")])),_:1}),c(p,{class:"tip-text"},{default:s((()=>[i("ç‚¹å‡»æ‹ç…§ / ä¸Šä¼ å›¾ç‰‡")])),_:1})])),_:1})),g.value?(t(),e(f,{key:2,class:"scan-line"})):n("",!0)])),_:1},8,["class"])])),_:1}),h.value?(t(),e(f,{key:0,class:"result-area"},{default:s((()=>[c(f,{class:"result-card"},{default:s((()=>[c(f,{class:u(["result-header",h.value.class])},{default:s((()=>[c(p,{class:"category-icon"},{default:s((()=>[i(r(h.value.icon),1)])),_:1}),c(p,{class:"category-name"},{default:s((()=>[i(r(h.value.category),1)])),_:1})])),_:1},8,["class"]),c(f,{class:"result-body"},{default:s((()=>[c(f,{class:"item-name"},{default:s((()=>[i("è¯†åˆ«ç»“æœï¼š"+r(h.value.name),1)])),_:1}),c(f,{class:"guide-text"},{default:s((()=>[i(r(h.value.guide),1)])),_:1})])),_:1})])),_:1}),c(f,{class:"action-btn",onClick:w},{default:s((()=>[i("è¯†åˆ«ä¸‹ä¸€ä»¶")])),_:1})])),_:1})):(t(),e(f,{key:1,class:"tips-area"},{default:s((()=>[c(f,{class:"tips-title"},{default:s((()=>[i("ğŸ’¡ è¯†åˆ«å°è´´å£«")])),_:1}),c(f,{class:"tips-list"},{default:s((()=>[c(f,{class:"tip-item"},{default:s((()=>[i("1. ä¿æŒç¯å¢ƒå…‰çº¿å……è¶³")])),_:1}),c(f,{class:"tip-item"},{default:s((()=>[i("2. å°½é‡è®©ç‰©å“ä½äºç”»é¢ä¸­å¿ƒ")])),_:1}),c(f,{class:"tip-item"},{default:s((()=>[i("3. æ¯æ¬¡ä»…è¯†åˆ«ä¸€ä¸ªç‰©å“å‡†ç¡®ç‡æ›´é«˜")])),_:1})])),_:1})])),_:1}))])),_:1})}}},[["__scopeId","data-v-902ff2f8"]]);export{y as default};
