import{r as a,c as s,w as e,i as t,o as l,a as c,h as u,j as r,F as o,b as d,k as n,m as i,e as p,t as f,d as m}from"./index-CuaaJPDA.js";import{r as _}from"./request.CEomxEkn.js";import{o as g}from"./uni-app.es.l4NMnEKD.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const k=h({__name:"my-exchange",setup(h){const k=a([]);g((()=>{x()}));const x=async()=>{try{const a=await _({url:"/user/exchange/list"});a.data&&(k.value=a.data)}catch(a){}},v=()=>{i({url:"/pages/exchange/publish"})};return(a,_)=>{const g=m,h=p,x=t;return l(),s(x,{class:"page"},{default:e((()=>[c(x,{class:"list"},{default:e((()=>[(l(!0),u(o,null,r(k.value,((a,t)=>(l(),s(x,{class:"item",key:t,onClick:s=>{return e=a.id,void i({url:`/pages/exchange-detail/exchange-detail?id=${e}`});var e}},{default:e((()=>{return[c(g,{src:(s=a.img,s?s.startsWith("http")?s:"https://kkbaemygbrzk.ap-northeast-1.clawcloudrun.com"+s:""),mode:"aspectFill",class:"img"},null,8,["src"]),c(x,{class:"info"},{default:e((()=>[c(h,{class:"title"},{default:e((()=>[d(f(a.title),1)])),_:2},1024),c(h,{class:"desc"},{default:e((()=>[d(f(a.desc),1)])),_:2},1024),c(x,{class:"bottom"},{default:e((()=>[c(h,{class:"price"},{default:e((()=>[d(f("goods"===a.exchangeMode?"换："+a.targetItem:a.price+" 积分"),1)])),_:2},1024),c(h,{class:"status"},{default:e((()=>[d("发布中")])),_:1})])),_:2},1024)])),_:2},1024)];var s})),_:2},1032,["onClick"])))),128)),0===k.value.length?(l(),s(x,{key:0,class:"empty"},{default:e((()=>[c(h,null,{default:e((()=>[d("还没有发布过物品哦")])),_:1})])),_:1})):n("",!0)])),_:1}),c(x,{class:"fab-btn",onClick:v},{default:e((()=>[c(h,{class:"plus"},{default:e((()=>[d("+")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-4841e8ae"]]);export{k as default};
