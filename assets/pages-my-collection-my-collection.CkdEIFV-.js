import{r as a,c as s,w as t,i as e,o as l,a as c,b as u,t as r,h as d,j as o,F as n,k as i,e as f,m as p,d as _}from"./index-CuaaJPDA.js";import{r as m}from"./request.CEomxEkn.js";import{o as h}from"./uni-app.es.l4NMnEKD.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const v=g({__name:"my-collection",setup(g){const v=a([]);h((()=>{k()}));const k=async()=>{try{const a=await m({url:"/user/collection"});a.data&&(v.value=a.data)}catch(a){}};return(a,m)=>{const h=f,g=e,k=_;return l(),s(g,{class:"page"},{default:t((()=>[c(g,{class:"header"},{default:t((()=>[c(h,{class:"title"},{default:t((()=>[u("我的植物收藏")])),_:1}),c(h,{class:"subtitle"},{default:t((()=>[u("共收藏 "+r(v.value.length)+" 种校园植物",1)])),_:1})])),_:1}),c(g,{class:"list"},{default:t((()=>[(l(!0),d(n,null,o(v.value,((a,e)=>(l(),s(g,{class:"item",key:e,onClick:s=>{return t=a.id,void p({url:`/pages/detail-plant/detail-plant?id=${t}`});var t}},{default:t((()=>{return[c(k,{src:(s=a.img,s?s.startsWith("http")?s:"https://kkbaemygbrzk.ap-northeast-1.clawcloudrun.com"+s:""),mode:"aspectFill",class:"img"},null,8,["src"]),c(g,{class:"info"},{default:t((()=>[c(g,{class:"top"},{default:t((()=>[c(h,{class:"name"},{default:t((()=>[u(r(a.name),1)])),_:2},1024),c(g,{class:"tag"},{default:t((()=>[u("已收藏")])),_:1})])),_:2},1024),c(h,{class:"desc"},{default:t((()=>[u(r(a.desc),1)])),_:2},1024),c(h,{class:"detail-info"},{default:t((()=>[u(r(a.info),1)])),_:2},1024)])),_:2},1024)];var s})),_:2},1032,["onClick"])))),128)),0===v.value.length?(l(),s(g,{key:0,class:"empty"},{default:t((()=>[c(h,null,{default:t((()=>[u("暂无收藏植物")])),_:1})])),_:1})):i("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-0ab0e4d5"]]);export{v as default};
